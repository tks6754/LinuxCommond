# top命令 #

## 命令格式 ##
> top [参数]

## 命令功能及介绍 ##

显示当前系统正在执行的进程的相关信息，包括进程ID、内存占用率、CPU占用率等。

top是一个动态显示过程,即可以通过用户按键来不断刷新当前状态。如果在前台执行该命令,它将独占前台,直到用户终止该程序为止。比较准确的说,top命令提供了实时的对系统处理器的状态监视。它将显示系统中CPU最“敏感”的任务列表.该命令可以按CPU使用。内存使用和执行时间对任务进行排序；而且该命令的很多特性都可以通过交互式命令或者在个人定制文件中进行设定。

## 命令参数 ##

    -b 批处理
    -c 显示完整的命令
    -I 忽略失效过程
    -s 保密模式
    -S 累积模式
    -i<时间> 设置间隔时间
    -u<用户名> 指定用户名
    -p<进程号> 指定进程
    -n<次数> 循环显示的次数

## 例子和技巧 ##

### top显示进程信息 ###
    top

![top](https://github.com/tks6754/Photos01/raw/master/top.JPG)

显示信息：（找到一个[百度经验](http://jingyan.baidu.com/article/4d58d5412917cb9dd4e9c0ed.html)，图讲的仔细）
前五行是当前系统情况整体的统计信息区。

 1. 第一行：任务队列信息，同 uptime 命令的执行结果
    - 09:52:10  当前时间
    - up 8:43  总运行时间为8小时43分
    - 3 users  3个在线用户
    - load average: 0.00， 0.01， 0.00  负载情况，分别是1分钟、5分钟、15分钟的统计数。（计算方法，是系统每隔5秒钟统计一次活跃的进程数，在按照特定的算法计算。当average数除以逻辑CPU数量，结果值超过5时，则表示系统处于超负荷运转。）

 2. 第二行：任务（进程）状态

  - 系统当前共87个进程，有1个在运行，86个在休眠，0个停止，0个zombie状态

 3. 第三行：CPU状态信息(在这里CPU的使用比率和windows概念不同，需要理解linux系统用户空间和内核空间的相关知识)

  - 0.0%us  用户占用CPU百分比
  - 0.0%sy  系统占用CPU百分比
  - 0.0%ni  优先级改变过的进程占CPU百分比
  - 99.8%id  空闲CPU的百分比
  - 0.0%wa  IO等待占用CPU百分比
  - 0.0%hi  硬中断（Hardware IRQ）占用CPU的百分比
  - 0.2%si  软中断（Software Interrupts）占用CPU的百分比
  - 0.0%st  steal time

 4. 第四行：内存容量状态信息

  - 1906556k total  物理内存总量
  - 339260k used  已使用的内存容量
  - 1567296k free  空闲内存总量
  - 25224k buffers  缓冲区内存总量

 5. 第五行：swap交换分区信息

  - 2097144k total  交换区总量
  - 0k used  以使用交换区总量
  - 2097144k free  空闲交换区总量
  - 158296k cached  缓冲交换区总量

 6.第六行：空

 7.第七行之后：各个进程的状态信息，列项的含义：

  - PID  进程id
  - USER  进程所有者
  - PR  进程优先级
  - NI  nice值。（负值表示高优先级，正值表示低优先级）
  - VIRI  进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES
  - RES  进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA
  - SHR  共享内存大小，单位kb
  - S  进程状态。D=不可中断的睡眠状态 R=运行 S=睡眠 T=跟踪/停止 Z=僵尸进程
  - %CPU  上次更新到现在的CPU时间占用百分比
  - %MEM  进程使用的物理内存百分比
  - TIME+  进程使用的CPU时间总计，单位1/100秒
  - COMMAND  进程名称（命令名/命令行）
